{"ast":null,"code":"import { applyMiddleware, createStore } from \"redux\";\nimport createSagaMiddleware from \"redux-saga\";\nimport rootReducer from \"./reducers\";\nimport rootSaga from \"./sagas\";\nconst sagaMiddleWare = createSagaMiddleware();\n\nconst bindMiddleware = middleware => {\n  if (true) {\n    const {\n      composeWithDevTools\n    } = require(\"redux-devtools-extension\");\n\n    return composeWithDevTools(applyMiddleware(...middleware));\n  }\n\n  return applyMiddleware(...middleware);\n};\n\nconst makeConfiguredStore = (reducer, initialState) => {\n  return createStore(reducer, initialState, bindMiddleware([sagaMiddleWare]));\n};\n\nlet getStore = null;\nexport const makeStore = (initialState, {\n  isServer,\n  req,\n  debug,\n  storeKey\n}) => {\n  if (isServer) {\n    console.log(\"object\");\n    initialState = initialState || {\n      fromServer: \"foo\"\n    };\n    return makeConfiguredStore(rootReducer, initialState);\n  } else {\n    const store = makeConfiguredStore(rootReducer, initialState);\n\n    store.runSagaTask = () => {\n      store.sagaTask = sagaMiddleWare.run(rootSaga);\n    };\n\n    store.runSagaTask();\n    getStore = store;\n    return store;\n  }\n};\nexport { getStore };","map":{"version":3,"sources":["C:/Users/vuhon/Desktop/dgtb_user/src/redux/store.js"],"names":["applyMiddleware","createStore","createSagaMiddleware","rootReducer","rootSaga","sagaMiddleWare","bindMiddleware","middleware","composeWithDevTools","require","makeConfiguredStore","reducer","initialState","getStore","makeStore","isServer","req","debug","storeKey","console","log","fromServer","store","runSagaTask","sagaTask","run"],"mappings":"AAAA,SAASA,eAAT,EAA0BC,WAA1B,QAA6C,OAA7C;AACA,OAAOC,oBAAP,MAAiC,YAAjC;AACA,OAAOC,WAAP;AACA,OAAOC,QAAP;AAEA,MAAMC,cAAc,GAAGH,oBAAoB,EAA3C;;AAEA,MAAMI,cAAc,GAAIC,UAAD,IAAgB;AACtC,YAA2C;AAC1C,UAAM;AAAEC,MAAAA;AAAF,QAA0BC,OAAO,CAAC,0BAAD,CAAvC;;AACA,WAAOD,mBAAmB,CAACR,eAAe,CAAC,GAAGO,UAAJ,CAAhB,CAA1B;AACA;;AAED,SAAOP,eAAe,CAAC,GAAGO,UAAJ,CAAtB;AACA,CAPD;;AASA,MAAMG,mBAAmB,GAAG,CAACC,OAAD,EAAUC,YAAV,KAA2B;AACtD,SAAOX,WAAW,CAACU,OAAD,EAAUC,YAAV,EAAwBN,cAAc,CAAC,CAACD,cAAD,CAAD,CAAtC,CAAlB;AACA,CAFD;;AAIA,IAAIQ,QAAQ,GAAG,IAAf;AAEA,OAAO,MAAMC,SAAS,GAAG,CAACF,YAAD,EAAe;AAAEG,EAAAA,QAAF;AAAYC,EAAAA,GAAZ;AAAiBC,EAAAA,KAAjB;AAAwBC,EAAAA;AAAxB,CAAf,KAAsD;AAC9E,MAAIH,QAAJ,EAAc;AACbI,IAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACAR,IAAAA,YAAY,GAAGA,YAAY,IAAI;AAAES,MAAAA,UAAU,EAAE;AAAd,KAA/B;AACA,WAAOX,mBAAmB,CAACP,WAAD,EAAcS,YAAd,CAA1B;AACA,GAJD,MAIO;AACN,UAAMU,KAAK,GAAGZ,mBAAmB,CAACP,WAAD,EAAcS,YAAd,CAAjC;;AACAU,IAAAA,KAAK,CAACC,WAAN,GAAoB,MAAM;AACzBD,MAAAA,KAAK,CAACE,QAAN,GAAiBnB,cAAc,CAACoB,GAAf,CAAmBrB,QAAnB,CAAjB;AACA,KAFD;;AAGAkB,IAAAA,KAAK,CAACC,WAAN;AACAV,IAAAA,QAAQ,GAAGS,KAAX;AACA,WAAOA,KAAP;AACA;AACD,CAdM;AAgBP,SAAST,QAAT","sourcesContent":["import { applyMiddleware, createStore } from \"redux\";\r\nimport createSagaMiddleware from \"redux-saga\";\r\nimport rootReducer from \"./reducers\";\r\nimport rootSaga from \"./sagas\";\r\n\r\nconst sagaMiddleWare = createSagaMiddleware();\r\n\r\nconst bindMiddleware = (middleware) => {\r\n\tif (process.env.NODE_ENV !== \"production\") {\r\n\t\tconst { composeWithDevTools } = require(\"redux-devtools-extension\");\r\n\t\treturn composeWithDevTools(applyMiddleware(...middleware));\r\n\t}\r\n\r\n\treturn applyMiddleware(...middleware);\r\n};\r\n\r\nconst makeConfiguredStore = (reducer, initialState) => {\r\n\treturn createStore(reducer, initialState, bindMiddleware([sagaMiddleWare]));\r\n};\r\n\r\nlet getStore = null;\r\n\r\nexport const makeStore = (initialState, { isServer, req, debug, storeKey }) => {\r\n\tif (isServer) {\r\n\t\tconsole.log(\"object\");\r\n\t\tinitialState = initialState || { fromServer: \"foo\" };\r\n\t\treturn makeConfiguredStore(rootReducer, initialState);\r\n\t} else {\r\n\t\tconst store = makeConfiguredStore(rootReducer, initialState);\r\n\t\tstore.runSagaTask = () => {\r\n\t\t\tstore.sagaTask = sagaMiddleWare.run(rootSaga);\r\n\t\t};\r\n\t\tstore.runSagaTask();\r\n\t\tgetStore = store;\r\n\t\treturn store;\r\n\t}\r\n};\r\n\r\nexport { getStore };\r\n"]},"metadata":{},"sourceType":"module"}